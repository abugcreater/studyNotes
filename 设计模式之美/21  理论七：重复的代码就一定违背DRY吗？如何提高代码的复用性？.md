# 21 | 理论七：重复的代码就一定违背DRY吗？如何提高代码的复用性？

## DRY 原则（Don’t Repeat Yourself）

### 实现逻辑重复

尽管代码的实现逻辑是相同的，但语义不同，我们判定它并不违反 DRY 原则。对于包含重复代码的问题，我们可以通过抽象成更细粒度函数的方式来解决。

### 功能语义重复

尽管两段代码的实现逻辑不重复，但语义重复，也就是功能重复，我们认为它违反了 DRY 原则。我们应该在项目中，统一一种实现思路，所有用到判断某个字段是否合法的地方，都统一调用同一个函数

### 代码执行重复

比如重复校验,在某个方法中已经校验了,下一步代码执行有重复校验.

## 代码复用性（Code Reusability）

### 什么是代码的复用性？

区分三个概念：代码复用性（Code Reusability）、代码复用（Code Resue）和 DRY 原则。

代码复用表示一种行为：我们在开发新功能的时候，尽量复用已经存在的代码。代码的可复用性表示一段代码可被复用的特性或能力：我们在编写代码的时候，让代码尽量可复用。DRY 原则是一条原则：不要写重复的代码。从定义描述上，它们好像有点类似，但深究起来，三者的区别还是蛮大的。

**首先，“不重复”并不代表“可复用”.**

**其次，“复用”和“可复用性”关注角度不同。**代码“可复用性”是从代码开发者的角度来讲的，“复用”是从代码使用者的角度来讲的。

三者都是减少代码量，提高代码的可读性、可维护性.

### 怎么提高代码复用性？

- 减少代码耦合
- 满足单一职责原则
- 模块化
- 业务与非业务逻辑分离
- 通用代码下沉
- 继承、多态、抽象、封装
- 用模板等设计模式




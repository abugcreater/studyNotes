# 04 | 复杂度分析（下）：浅析最好、最坏、平均、均摊时间复杂度

## 最好、最坏情况时间复杂度

最好情况时间复杂度就是，在最理想的情况下，执行这段代码的时间复杂度。

最坏情况时间复杂度就是，在最糟糕的情况下，执行这段代码的时间复杂度。

## 平均情况时间复杂度

平均时间复杂度在概率论中就是加权平均值,也叫期望值.所以平均时间复杂度的全程应该叫加权平均时间复杂度或者期望时间复杂度.

## 均摊时间复杂度

```
// 全局变量，大小为 10 的数组 array，长度 len，下标 i。
int array[] = new int[10]; 
int len = 10;
int i = 0;
 
// 往数组中添加一个元素
void add(int element) {
   if (i >= len) { // 数组空间不够了
     // 重新申请一个 2 倍大小的数组空间
     int new_array[] = new int[len*2];
     // 把原来 array 数组中的数据依次 copy 到 new_array
     for (int j = 0; j < len; ++j) {
       new_array[j] = array[j];
     }
     // new_array 复制给 array，array 现在大小就是 2 倍 len 了
     array = new_array;
     len = 2 * len;
   }
   // 将 element 放到下标为 i 的位置，下标 i 加一
   array[i] = element;
   ++i;
}
```

利用**摊还分析法**分析,每经过n次的时间复杂度为O(1)的操作后,紧跟着出现一次时间复杂度为O(n)的操作,循环往复.均摊下来时间复杂度约为O(n).

通过**摊还分析法**得到的时间复杂度也叫**均摊时间复杂度**.





